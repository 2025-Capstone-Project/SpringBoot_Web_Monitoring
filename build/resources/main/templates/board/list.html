<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/default :: layout(~{::title}, ~{::section}) }">
<head>
    <title>Q&A Board</title>
</head>
<body>
<section>
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">Q&A Board</h2>
    <a class="btn btn-primary" th:href="@{/qa/write}">질문하기</a>
  </div>
  <form class="row g-2 mb-3" method="get" th:action="@{/qa}">
    <div class="col-md-5"><input class="form-control" name="q" placeholder="키워드" th:value="${q}"></div>
    <div class="col-md-3"><input class="form-control" name="tag" placeholder="태그(ex: fan, yolo)" th:value="${tag}"></div>
    <div class="col-md-2">
      <select class="form-select" name="sort" th:value="${sort}">
        <option value="recent">최신순</option>
        <option value="views">조회수</option>
      </select>
    </div>
    <div class="col-md-2"><button class="btn btn-outline-secondary w-100">검색</button></div>
  </form>

  <div class="list-group">
    <a class="list-group-item list-group-item-action" th:each="q : ${questions}" th:href="@{'/qa/' + ${q.id}}">
      <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1" th:text="${q.title}">제목</h5>
        <small th:text="${#temporals.format(q.createdAt, 'yyyy-MM-dd HH:mm')}">날짜</small>
      </div>
      <p class="mb-1 text-truncate" th:text="${q.content}">내용</p>
      <small><span class="badge bg-light text-dark" th:text="${q.tags}">태그</span> • <span th:text="${q.username}">작성자</span> • <span th:text="${q.status}">상태</span> • <span th:text="${q.views}">0</span> views</small>
    </a>
  </div>
</section>
</body>
</html>
